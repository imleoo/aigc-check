# AIGC-Check

AI生成内容检测工具 - 基于多模态检测的智能分析系统

## 项目状态

✅ **v2.0.0** - 多模态检测增强版本

## 功能特性

### 核心功能
- ✅ 10个AI生成内容检测信号
- ✅ 5维度评分系统
- ✅ 智能改进建议
- ✅ 多种输出格式（文本、JSON）
- ✅ 可配置的规则阈值

### 多模态检测 (v2.0 新增)
- ✅ **规则检测层** - 快速识别明显AI特征
- ✅ **统计分析层** - 词汇多样性、句子结构、困惑度分析
- ✅ **语义分析层** - Gemini API 深度语义理解
- ✅ **分层触发策略** - 智能决策，按需调用高级分析
- ✅ **多层评分融合** - 综合多个维度的检测结果

## 快速开始

### 安装

```bash
# 克隆仓库
git clone https://github.com/leoobai/aigc-check.git
cd aigc-check

# 构建
make build

# 安装到系统
make install
```

### 使用

#### 基础检测

```bash
# 检测文本文件
aigc-check -f sample.txt

# 使用JSON输出
aigc-check -f sample.txt -format json

# 保存报告到文件
aigc-check -f sample.txt -o report.txt

# 使用自定义配置
aigc-check -f sample.txt -c custom-config.yaml
```

#### 多模态检测 (v2.0)

```bash
# 启用多模态检测（规则+统计分析）
aigc-check -f sample.txt -m

# 启用统计分析层
aigc-check -f sample.txt -m -s

# 启用完整多模态检测（包括 Gemini API）
aigc-check -f sample.txt -m -s -g --api-key YOUR_API_KEY

# 或使用环境变量设置 API Key
export GEMINI_API_KEY=your_api_key_here
aigc-check -f sample.txt -m -s -g

# 显示详细分析结果
aigc-check -f sample.txt -m --verbose
```

## 检测信号

1. **高频词汇** - 检测AI常用的关键词（crucial, pivotal等）
2. **句式开头** - 检测重复的句式开头（Additionally, Furthermore等）
3. **虚假范围** - 检测不连续的"from X to Y"表达
4. **引用异常** - 检测UTM参数和幽灵标记
5. **破折号密度** - 统计破折号使用频率
6. **Markdown残留** - 检测未清理的Markdown格式
7. **表情符号** - 检测过度工整的emoji使用
8. **知识截止** - 检测"截至我的知识更新"等短语
9. **协作式语气** - 检测"希望这能帮到你"等短语
10. **完美主义** - 检测缺乏第一人称和情感表达

## 评分维度

- **词汇多样性** (20分) - 评估词汇使用的丰富程度
- **句式复杂度** (15分) - 评估句式结构的多样性
- **个人化表达** (25分) - 评估个人风格和主观表达
- **逻辑连贯性** (20分) - 评估逻辑结构的自然性
- **情感真实度** (20分) - 评估情感表达的真实性

## 风险等级

- **极高风险** (0-40分) - 极可能为AI生成内容
- **高风险** (41-60分) - 很可能为AI生成内容
- **中等风险** (61-75分) - 可能包含AI生成内容
- **低风险** (76-100分) - 可能为人类编写

## 开发

```bash
# 运行测试
make test

# 查看测试覆盖率
make coverage

# 代码检查
make lint

# 清理构建产物
make clean
```

## 技术栈

- Go 1.25+
- gopkg.in/yaml.v3 - 配置解析
- Google Gemini API - 语义分析（可选）

## 架构设计

### 多模态检测架构

```
┌─────────────────────────────────────────────────────────┐
│                    AIGC-Check v2.0                      │
├─────────────────────────────────────────────────────────┤
│  Layer 1: 规则检测层 (快速过滤)                          │
│  ├─ 10个检测规则并发执行                                 │
│  └─ 识别明显AI特征 (<100ms)                             │
├─────────────────────────────────────────────────────────┤
│  Layer 2: 统计分析层 (中等置信度验证)                    │
│  ├─ 词汇多样性分析 (TTR)                                │
│  ├─ 句子结构分析                                         │
│  └─ 困惑度估算 (<200ms)                                 │
├─────────────────────────────────────────────────────────┤
│  Layer 3: 语义分析层 (低置信度深度分析)                  │
│  ├─ Gemini API 语义理解                                 │
│  ├─ 逻辑连贯性判断                                       │
│  └─ 个人表达风格分析 (<3s)                              │
├─────────────────────────────────────────────────────────┤
│  集成决策器: 多层评分融合                                │
│  └─ 加权融合 → 最终评分 + 置信度                        │
└─────────────────────────────────────────────────────────┘
```

### 分层触发策略

- **高置信度 (>0.85)**: 仅规则检测，直接输出结果
- **中置信度 (0.6-0.85)**: 规则 + 统计分析验证
- **低置信度 (<0.6)**: 完整多模态检测（需 Gemini API）

## 路线图

### Phase 1: MVP ✅
- [x] 核心数据模型
- [x] 规则引擎实现
- [x] 评分系统
- [x] CLI工具
- [x] 基础测试

### Phase 2: 多模态增强 ✅
- [x] 统计分析层实现
- [x] Gemini API集成
- [x] 集成决策器
- [x] 分层触发策略
- [x] CLI参数扩展

### Phase 3: 未来计划
- [ ] Web界面
- [ ] API服务
- [ ] 批量检测支持
- [ ] 更多语言支持

## 贡献

欢迎提交Issue和Pull Request！

## 许可证

MIT License

## 作者

leoobai
